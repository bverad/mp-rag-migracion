[pytest]
# Filtros de advertencias
filterwarnings =
    ignore::DeprecationWarning:fastapi.*:
    ignore::DeprecationWarning:pydantic_core.*:
    ignore::PendingDeprecationWarning:starlette.*:
    ignore::DeprecationWarning:starlette.*:
    ignore::DeprecationWarning:langsmith.*:
    ignore::pydantic.v1.errors.ConfigError:langsmith.*:
    ignore::pytest.PytestDeprecationWarning

# Configuración básica
pythonpath = src
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Configuración de asyncio
asyncio_mode = strict
asyncio_default_fixture_loop_scope = function

# Configuración de logging durante tests
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Configuración de cobertura
addopts = -v --cov=src --cov-report=term-missing --cov-fail-under=80

# Marcadores personalizados
markers =
    unit: Tests unitarios
    integration: Tests de integración
    performance: Tests de rendimiento
    security: Tests de seguridad
    load: Load tests
    validation: Data validation tests
    error_handling: Error handling tests

# Plugins requeridos
required_plugins = 
    pytest-asyncio
    pytest-cov
    pytest-env
    pytest-mock
    pytest-benchmark

# Deshabilitar plugins específicos
addopts = --no-langsmith 